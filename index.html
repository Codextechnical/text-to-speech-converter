<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Text-to-Speech Converter | codextechnical</title>
<meta name="description" content="Convert text to speech online with multiple voices, adjustable speed and pitch, dark mode, and download MP3. Fully mobile-responsive and SEO optimized.">
<meta name="keywords" content="text to speech, TTS, online voice converter, male voice, female voice, robot voice, kids voice, download mp3, codextechnical">
<meta name="author" content="codextechnical">

<style>
:root {
  --bg-light:#f5f5f5; --bg-dark:#1e1e1e;
  --text-light:#333; --text-dark:#f0f0f0;
  --card-light:#fff; --card-dark:#2b2b2b;
  --primary:#4CAF50; --secondary:#2196F3; --accent:#ff9800;
}

body{
  font-family: Arial,sans-serif;
  margin:0;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
  transition:0.3s;
  background:var(--bg-light);
  color:var(--text-light);
}

.container{
  background:var(--card-light);
  padding:25px;
  border-radius:15px;
  box-shadow:0 8px 30px rgba(0,0,0,0.2);
  width:90%;
  max-width:450px;
  transition:0.3s;
}

h1{
  text-align:center;
  margin-bottom:20px;
  font-size:1.8em;
  color:var(--primary);
}

textarea{
  width:100%;
  height:130px;
  border-radius:10px;
  border:1px solid #ccc;
  padding:12px;
  resize:none;
  margin-bottom:12px;
  font-size:1em;
}

select,input[type=range]{
  width:100%;
  margin:8px 0;
  padding:8px;
  border-radius:6px;
  border:1px solid #ccc;
  font-size:1em;
}

.buttons{
  display:flex;
  justify-content:space-between;
  flex-wrap:wrap;
  gap:4%;
  margin-top:10px;
}

button{
  width:48%;
  padding:12px;
  border:none;
  border-radius:8px;
  cursor:pointer;
  font-weight:bold;
  font-size:1em;
  transition:0.2s;
}

#play{background-color:var(--primary); color:white;}
#download{background-color:var(--secondary); color:white;}
#modeToggle{margin-top:12px; width:100%; background:var(--accent); color:white;}

@media(max-width:500px){
  .buttons button{width:100%; margin-bottom:8px;}
}
</style>
</head>

<body>
<div class="container">
  <h1>Text-to-Speech Converter</h1>
  <textarea id="text" placeholder="Type your text here..."></textarea>

  <label for="voiceSelect">Voice Type:</label>
  <select id="voiceSelect">
    <option value="male">Male</option>
    <option value="female">Female</option>
    <option value="robot">Robot</option>
    <option value="child">Kids</option>
  </select>

  <label for="speed">Speed: <span id="speedValue">1</span>x</label>
  <input type="range" id="speed" min="0.5" max="2" step="0.1" value="1">

  <label for="pitch">Pitch: <span id="pitchValue">1</span></label>
  <input type="range" id="pitch" min="0.5" max="2" step="0.1" value="1">

  <div class="buttons">
    <button id="play">Play</button>
    <button id="download">Download MP3</button>
  </div>
  <button id="modeToggle">Toggle Dark Mode</button>
</div>

<footer style="text-align:center; margin-top:12px; font-size:12px;">
  &copy; <span id="year"></span> codextechnical
</footer>

<script>
// Set current year in footer
document.getElementById('year').textContent = new Date().getFullYear();

const textInput = document.getElementById('text');
const voiceSelect = document.getElementById('voiceSelect');
const speedInput = document.getElementById('speed');
const pitchInput = document.getElementById('pitch');
const speedValue = document.getElementById('speedValue');
const pitchValue = document.getElementById('pitchValue');
const playBtn = document.getElementById('play');
const downloadBtn = document.getElementById('download');
const modeToggle = document.getElementById('modeToggle');

speedInput.addEventListener('input',()=>speedValue.textContent=speedInput.value);
pitchInput.addEventListener('input',()=>pitchValue.textContent=pitchInput.value);

// Dark mode toggle
let darkMode=false;
modeToggle.addEventListener('click',()=>{
  darkMode=!darkMode;
  document.body.style.background=darkMode?'var(--bg-dark)':'var(--bg-light)';
  document.body.style.color=darkMode?'var(--text-dark)':'var(--text-light)';
  document.querySelector('.container').style.background=darkMode?'var(--card-dark)':'var(--card-light)';
});

// Play TTS
function speakText(text){
  if(!text) return;
  const utter = new SpeechSynthesisUtterance(text);
  utter.rate = speedInput.value;
  utter.pitch = pitchInput.value;

  const voices = speechSynthesis.getVoices();
  const type = voiceSelect.value;
  if(type==='male') utter.voice = voices.find(v=>v.name.toLowerCase().includes('male'))||voices[0];
  else if(type==='female') utter.voice = voices.find(v=>v.name.toLowerCase().includes('female'))||voices[0];
  else if(type==='robot') utter.pitch=0.5;
  else if(type==='child') utter.pitch=1.5;

  speechSynthesis.speak(utter);
}

// Download MP3 via Google Translate TTS (now working)
downloadBtn.addEventListener('click',()=>{
  const text=textInput.value;
  if(!text){ alert("Enter text first!"); return; }
  const ttsUrl=`https://translate.google.com/translate_tts?ie=UTF-8&q=${encodeURIComponent(text)}&tl=en&client=tw-ob`;
  const a=document.createElement('a'); a.href=ttsUrl; a.download='speech.mp3';
  document.body.appendChild(a);
  a.click();
  document.body.removeChild(a);
});

playBtn.addEventListener('click',()=>speakText(textInput.value));
</script>
</body>
</html>
